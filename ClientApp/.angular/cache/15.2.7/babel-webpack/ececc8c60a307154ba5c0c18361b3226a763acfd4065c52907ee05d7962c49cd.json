{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UpdateBookComponent = class UpdateBookComponent {\n  constructor(formBuilder,\n  // inject form builder\n  route,\n  // inject ActivatedRoute\n  service,\n  // inject BookService\n  router // inject RouterService\n  ) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.service = service;\n    this.router = router;\n  }\n  ngOnInit() {\n    const bookId = parseInt(this.route.snapshot.paramMap.get('id'));\n    this.editBookForm = this.formBuilder.group({\n      id: [null],\n      title: [null],\n      author: [null],\n      description: [null],\n      rate: [null],\n      dateStart: [null],\n      dateRead: [null]\n    });\n    this.service.getBookById(bookId).subscribe(book => {\n      this.editBookForm = this.formBuilder.group({\n        id: [book.id],\n        title: [book.title],\n        author: [book.author],\n        description: [book.description],\n        rate: [book.rate],\n        dateStart: [book.dateStart],\n        dateRead: [book.dateRead]\n      });\n    });\n  }\n  onSubmit() {\n    if (this.editBookForm.valid) {\n      const bookId = parseInt(this.route.snapshot.paramMap.get('id'));\n      this.service.updateBook(this.editBookForm.value).subscribe(() => {\n        this.router.navigate(['/book', bookId]);\n      });\n    }\n  }\n};\nUpdateBookComponent = __decorate([Component({\n  selector: 'app-update-book',\n  templateUrl: './update-book.component.html',\n  styleUrls: ['./update-book.component.css']\n})], UpdateBookComponent);\nexport { UpdateBookComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAE/BC,YACSC,WAAwB;EAAG;EAC3BC,KAAqB;EAAG;EACxBC,OAAoB;EAAG;EACvBC,MAAc,CAAE;EAAA;IAHhB,gBAAW,GAAXH,WAAW;IACX,UAAK,GAALC,KAAK;IACL,YAAO,GAAPC,OAAO;IACP,WAAM,GAANC,MAAM;EAGf;EAEAC,QAAQ;IACP,MAAMC,MAAM,GAAGC,QAAQ,CAAC,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE,CAAC;IAChE,IAAI,CAACC,YAAY,GAAG,IAAI,CAACV,WAAW,CAACW,KAAK,CAAC;MAC1CC,EAAE,EAAE,CAAC,IAAI,CAAC;MACVC,KAAK,EAAE,CAAC,IAAI,CAAC;MACbC,MAAM,EAAE,CAAC,IAAI,CAAC;MACdC,WAAW,EAAE,CAAC,IAAI,CAAC;MACnBC,IAAI,EAAE,CAAC,IAAI,CAAC;MACZC,SAAS,EAAE,CAAC,IAAI,CAAC;MACjBC,QAAQ,EAAE,CAAC,IAAI;KACf,CAAC;IACF,IAAI,CAAChB,OAAO,CAACiB,WAAW,CAACd,MAAM,CAAC,CAACe,SAAS,CAACC,IAAI,IAAG;MACjD,IAAI,CAACX,YAAY,GAAG,IAAI,CAACV,WAAW,CAACW,KAAK,CAAC;QAC1CC,EAAE,EAAE,CAACS,IAAI,CAACT,EAAE,CAAC;QACbC,KAAK,EAAE,CAACQ,IAAI,CAACR,KAAK,CAAC;QACnBC,MAAM,EAAE,CAACO,IAAI,CAACP,MAAM,CAAC;QACrBC,WAAW,EAAE,CAACM,IAAI,CAACN,WAAW,CAAC;QAC/BC,IAAI,EAAE,CAACK,IAAI,CAACL,IAAI,CAAC;QACjBC,SAAS,EAAE,CAACI,IAAI,CAACJ,SAAS,CAAC;QAC3BC,QAAQ,EAAE,CAACG,IAAI,CAACH,QAAQ;OACxB,CAAC;IACH,CAAC,CAAC;EACH;EAEAI,QAAQ;IACP,IAAI,IAAI,CAACZ,YAAY,CAACa,KAAK,EAAE;MAC5B,MAAMlB,MAAM,GAAGC,QAAQ,CAAC,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE,CAAC;MAChE,IAAI,CAACP,OAAO,CAACsB,UAAU,CAAC,IAAI,CAACd,YAAY,CAACe,KAAK,CAAC,CAACL,SAAS,CAAC,MAAK;QAC/D,IAAI,CAACjB,MAAM,CAACuB,QAAQ,CAAC,CAAC,OAAO,EAAErB,MAAM,CAAC,CAAC;MACxC,CAAC,CAAC;;EAGJ;CAEA;AA7CYP,mBAAmB,eAL/BD,SAAS,CAAC;EACV8B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CACzC,CAAC,GACW/B,mBAAmB,CA6C/B;SA7CYA,mBAAmB","names":["Component","UpdateBookComponent","constructor","formBuilder","route","service","router","ngOnInit","bookId","parseInt","snapshot","paramMap","get","editBookForm","group","id","title","author","description","rate","dateStart","dateRead","getBookById","subscribe","book","onSubmit","valid","updateBook","value","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/sneeit/Documents/ASP.NET/BookLibAngularASP/ClientApp/src/app/components/update-book/update-book.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BookService } from 'src/app/services/book.service';\n\n@Component({\n\tselector: 'app-update-book',\n\ttemplateUrl: './update-book.component.html',\n\tstyleUrls: ['./update-book.component.css']\n})\nexport class UpdateBookComponent implements OnInit {\n\teditBookForm!: FormGroup;\n\tconstructor(\n\t\tprivate formBuilder: FormBuilder,  // inject form builder\n\t\tprivate route: ActivatedRoute,  // inject ActivatedRoute\n\t\tprivate service: BookService,  // inject BookService\n\t\tprivate router: Router  // inject RouterService\n\t) {\n\n\t}\n\n\tngOnInit(): void {\n\t\tconst bookId = parseInt(this.route.snapshot.paramMap.get('id')!);\n\t\tthis.editBookForm = this.formBuilder.group({\n\t\t\tid: [null],\n\t\t\ttitle: [null],\n\t\t\tauthor: [null],\n\t\t\tdescription: [null],\n\t\t\trate: [null],\n\t\t\tdateStart: [null],\n\t\t\tdateRead: [null]\n\t\t})\n\t\tthis.service.getBookById(bookId).subscribe(book => {\n\t\t\tthis.editBookForm = this.formBuilder.group({\n\t\t\t\tid: [book.id],\n\t\t\t\ttitle: [book.title],\n\t\t\t\tauthor: [book.author],\n\t\t\t\tdescription: [book.description],\n\t\t\t\trate: [book.rate],\n\t\t\t\tdateStart: [book.dateStart],\n\t\t\t\tdateRead: [book.dateRead]\n\t\t\t})\n\t\t})\n\t}\n\n\tonSubmit() {\n\t\tif (this.editBookForm.valid) {\n\t\t\tconst bookId = parseInt(this.route.snapshot.paramMap.get('id')!);\n\t\t\tthis.service.updateBook(this.editBookForm.value).subscribe(() => {\n\t\t\t\tthis.router.navigate(['/book', bookId]);\n\t\t\t});\n\t\t}\n\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}