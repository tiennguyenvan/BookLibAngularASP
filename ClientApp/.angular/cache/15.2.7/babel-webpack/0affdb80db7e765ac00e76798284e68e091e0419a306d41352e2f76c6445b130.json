{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UpdateBookComponent = class UpdateBookComponent {\n  constructor(formBuilder,\n  // inject form builder\n  route,\n  // inject ActivatedRoute\n  service,\n  // inject BookService\n  router // inject RouterService\n  ) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.service = service;\n    this.router = router;\n  }\n  ngOnInit() {\n    const bookId = parseInt(this.route.snapshot.paramMap.get('id'));\n    this.service.getBookById(bookId).subscribe(book => {\n      this.editBookForm = this.formBuilder.group({\n        id: [book.id],\n        title: [book.title],\n        author: [book.author],\n        description: [book.description],\n        rate: [book.rate],\n        dateStart: [book.dateStart],\n        dateRead: [book.dateRead]\n      });\n    });\n  }\n  onSubmit() {\n    if (this.editBookForm.valid) {\n      this.service.updateBook(this.editBookForm.value).subscribe(() => {\n        this.route.navigate(['/books']);\n      });\n    }\n  }\n};\nUpdateBookComponent = __decorate([Component({\n  selector: 'app-update-book',\n  templateUrl: './update-book.component.html',\n  styleUrls: ['./update-book.component.css']\n})], UpdateBookComponent);\nexport { UpdateBookComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAE/BC,YACSC,WAAwB;EAAG;EAC3BC,KAAqB;EAAG;EACxBC,OAAoB;EAAG;EACvBC,MAAc,CAAE;EAAA;IAHhB,gBAAW,GAAXH,WAAW;IACX,UAAK,GAALC,KAAK;IACL,YAAO,GAAPC,OAAO;IACP,WAAM,GAANC,MAAM;EAGf;EAEAC,QAAQ;IACP,MAAMC,MAAM,GAAGC,QAAQ,CAAC,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE,CAAC;IAChE,IAAI,CAACP,OAAO,CAACQ,WAAW,CAACL,MAAM,CAAC,CAACM,SAAS,CAACC,IAAI,IAAG;MACjD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACb,WAAW,CAACc,KAAK,CAAC;QAC1CC,EAAE,EAAE,CAACH,IAAI,CAACG,EAAE,CAAC;QACbC,KAAK,EAAE,CAACJ,IAAI,CAACI,KAAK,CAAC;QACnBC,MAAM,EAAE,CAACL,IAAI,CAACK,MAAM,CAAC;QACrBC,WAAW,EAAE,CAACN,IAAI,CAACM,WAAW,CAAC;QAC/BC,IAAI,EAAE,CAACP,IAAI,CAACO,IAAI,CAAC;QACjBC,SAAS,EAAE,CAACR,IAAI,CAACQ,SAAS,CAAC;QAC3BC,QAAQ,EAAE,CAACT,IAAI,CAACS,QAAQ;OACxB,CAAC;IACH,CAAC,CAAC;EACH;EAGAC,QAAQ;IACP,IAAI,IAAI,CAACT,YAAY,CAACU,KAAK,EAAE;MAC5B,IAAI,CAACrB,OAAO,CAACsB,UAAU,CAAC,IAAI,CAACX,YAAY,CAACY,KAAK,CAAC,CAACd,SAAS,CAAC,MAAK;QAC/D,IAAI,CAACV,KAAK,CAACyB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAChC,CAAC,CAAC;;EAGJ;CAEA;AApCY5B,mBAAmB,eAL/BD,SAAS,CAAC;EACV8B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CACzC,CAAC,GACW/B,mBAAmB,CAoC/B;SApCYA,mBAAmB","names":["Component","UpdateBookComponent","constructor","formBuilder","route","service","router","ngOnInit","bookId","parseInt","snapshot","paramMap","get","getBookById","subscribe","book","editBookForm","group","id","title","author","description","rate","dateStart","dateRead","onSubmit","valid","updateBook","value","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/sneeit/Documents/ASP.NET/BookLibAngularASP/ClientApp/src/app/components/update-book/update-book.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookService } from 'src/app/services/book.service';\n\n@Component({\n\tselector: 'app-update-book',\n\ttemplateUrl: './update-book.component.html',\n\tstyleUrls: ['./update-book.component.css']\n})\nexport class UpdateBookComponent implements OnInit {\n\teditBookForm!: FormGroup;\n\tconstructor(\n\t\tprivate formBuilder: FormBuilder,  // inject form builder\n\t\tprivate route: ActivatedRoute,  // inject ActivatedRoute\n\t\tprivate service: BookService,  // inject BookService\n\t\tprivate router: Router  // inject RouterService\n\t) {\n\n\t}\n\n\tngOnInit(): void {\n\t\tconst bookId = parseInt(this.route.snapshot.paramMap.get('id')!);\n\t\tthis.service.getBookById(bookId).subscribe(book => {\n\t\t\tthis.editBookForm = this.formBuilder.group({\n\t\t\t\tid: [book.id],\n\t\t\t\ttitle: [book.title],\n\t\t\t\tauthor: [book.author],\n\t\t\t\tdescription: [book.description],\n\t\t\t\trate: [book.rate],\n\t\t\t\tdateStart: [book.dateStart],\n\t\t\t\tdateRead: [book.dateRead]\n\t\t\t})\n\t\t})\n\t}\n\n\n\tonSubmit() {\n\t\tif (this.editBookForm.valid) {\n\t\t\tthis.service.updateBook(this.editBookForm.value).subscribe(() => {\n\t\t\t\tthis.route.navigate(['/books']);\n\t\t\t});\n\t\t}\n\n\t}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}